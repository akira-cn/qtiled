!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(e.qtiled={})}(this,function(e){"use strict";function o(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(e,n){return[e,n]},o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:function(){return!0},t=[],i=Math.round(e/2),a=Math.round(n/2),d=1;d<=e;d++)for(var l=d-i,v=1;v<=n;v++){var u=v-a;o(l,u,d,v,e,n)&&t.push(r(l,u,d,v,e,n))}return t}var u=Math.PI/180;function y(e){return Math.round(2*e)/2}var n=Math.sqrt(2),A=n/2,H=-1/n;function T(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],o=babelHelpers.slicedToArray(e,2),t=o[0],i=void 0===t?0:t,a=o[1],d=void 0===a?0:a,l=babelHelpers.slicedToArray(n,2),v=l[0],u=void 0===v?10:v,h=l[1],s=void 0===h?10:h,f=babelHelpers.slicedToArray(r,2),g=f[0],c=void 0===g?0:g,b=f[1],p=(d-(void 0===b?0:b))/(H*s),M=y(((i-c)/(H*u)+p)/A/2);return[M,y(p/A-M)]}var x=[[1,0,10],[0,1,10],[0,-1,10],[-1,0,10],[-1,-1,14],[-1,1,14],[1,-1,14],[1,1,14]];e.searchPath=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],h=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(e,n,r,o,t){return!0},r=babelHelpers.slicedToArray(e,2),o=r[0],t=void 0===o?0:o,i=r[1],a=void 0===i?0:i,d=babelHelpers.slicedToArray(n,2),l=d[0],s=void 0===l?0:l,v=d[1],f=void 0===v?0:v;if(t===s&&a===f)return[e];if(Math.abs(t%1)!==Math.abs(s%1)||Math.abs(a%1)!==Math.abs(f%1))return[];var g={},c={};function u(e,n){for(var r=[],o=g[e+","+n],t=0;t<8;t++){var i=x[t],a=e+i[0],d=n+i[1],l=i[2],v=a+","+d,u=g[v];if(h(a,d,l,e,n)&&(void 0===u||o+l<u)&&(g[v]=o+l,c[v]=[e,n],r.push([a,d]),a===s&&d===f))break}return r}g[e.join()]=0;for(var b=[e],p=[];b.length;)for(var M=b.pop(),y=u(M[0],M[1]),A=y.length,H=0;H<A;H++){var T=y[H];if(T[0]===s&&T[1]===f){p.push(n);for(var m=n;m[0]!==t||m[1]!==a;)m=c[m.join()],p.unshift(m);return p}b.unshift(T)}return p},e.version="0.1.1",e.getUnitsByRowCol=o,e.getNeighbourUnitsByRowCol=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(e,n){return[e,n]},a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:function(){return!0};return o(e+2,n+2,r,function(e,n,r,o,t,i){return a(e,n,r,o,t,i)&&(1===r||r===t||1===o||o===i)})},e.getDiagonalUnitsByRowCol=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(e,n){return[e,n]},a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:function(){return!0},d=Math.round(e/2)-e%2,l=Math.round(n/2)-n%2;return o(e,n,r,function(e,n,r,o,t,i){return a(e,n,r,o,t,i)&&Math.abs(e)/d+Math.abs(n)/l<=1})},e.getUnitsByDiagonal=function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(e,n){return[e,n]},o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:function(){return!0},t=babelHelpers.slicedToArray(e,2),i=t[0],a=void 0===i?0:i,d=t[1],l=void 0===d?0:d,v=babelHelpers.slicedToArray(n,2),u=v[0],h=void 0===u?0:u,s=v[1],f=void 0===s?0:s,g=Math.min(a,h),c=Math.max(a,h),b=Math.min(l,f),p=Math.max(l,f),M=[],y=g;y<=c;y++)for(var A=b;A<=p;A++)o(y,A,g,b,c,p,e,n)&&M.push(r(y,A,g,b,c,p,e,n));return M},e.rotateUnit=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=babelHelpers.slicedToArray(e,2),o=r[0],t=void 0===o?0:o,i=r[1],a=void 0===i?0:i,d=n*u,l=10*Math.sin(d),v=10*Math.cos(d);return[Math.round(t*v-a*l)/10,Math.round(t*l+a*v)/10]},e.unit2pixel=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[0,0],r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[10,10],o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[0,0];return e.map(function(e,n){return y(e*r[n]+o[n])})},e._half_precision=y,e.pixel2unit=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[0,0],r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[10,10],o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[0,0];return e.map(function(e,n){return y((e-o[n])/r[n])})},e.unit2rhombusPixel=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],o=babelHelpers.slicedToArray(e,2),t=o[0],i=void 0===t?0:t,a=o[1],d=void 0===a?0:a,l=babelHelpers.slicedToArray(n,2),v=l[0],u=void 0===v?10:v,h=l[1],s=void 0===h?10:h,f=babelHelpers.slicedToArray(r,2),g=f[0],c=void 0===g?0:g,b=f[1],p=void 0===b?0:b,M=(i+d)*A;return[y((i-d)*A*H*u+c),y(M*H*s+p)]},e.rhombusPixel2unit=T,e.getStaggeredUnitsByRowCol=function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(e,n){return[e,n]},o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:function(e,n){return!0},t=[],i=-Math.floor(e/2),a=e+i-1,d=-Math.floor(n/2),l=n+d-1,v=[1,1],u=[0,0],h=d;h<=l;h++)for(var s=.5*h,f=.5===Math.abs(s%1)?.5:0,g=i;g<=a;g++){var c=T([g+f,s],v,u),b=babelHelpers.slicedToArray(c,2),p=b[0],M=b[1];o(p,M,g,h,i,d,a,l,e,n)&&t.push(r(p,M,g,h,i,d,a,l,e,n))}return t},e.staggeredUnitRound=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],n=babelHelpers.slicedToArray(e,2),r=n[0],o=void 0===r?0:r,t=n[1],i=void 0===t?0:t,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],d=babelHelpers.slicedToArray(a,2),l=d[0],v=void 0===l?78:l,u=d[1],h=void 0===u?40:u,s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],f=babelHelpers.slicedToArray(s,2),g=f[0],c=void 0===g?0:g,b=f[1],p=void 0===b?0:b,M=v/2,y=h/2,A=Math.round(i/y)*y,H=Math.round(o/v)*v;return A%h===y&&(H+=0<=o-H?M:-M),[H+c,A+p]},Object.defineProperty(e,"__esModule",{value:!0})});
